<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neural AI - Complete Application</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      color: white;
      margin-bottom: 30px;
    }

    header h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .main-card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .tabs {
      display: flex;
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }

    .tab {
      flex: 1;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      border: none;
      background: none;
      font-size: 16px;
    }

    .tab:hover {
      background: #e9ecef;
    }

    .tab.active {
      background: #6f42c1;
      color: white;
      box-shadow: 0 4px 8px rgba(111, 66, 193, 0.3);
    }

    .content {
      padding: 30px;
    }

    .chat-section {
      display: none;
    }

    .chat-section.active {
      display: block;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #495057;
    }

    textarea {
      width: 100%;
      padding: 15px;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      font-size: 16px;
      resize: vertical;
      transition: border-color 0.3s ease;
      font-family: inherit;
    }

    textarea:focus {
      outline: none;
      border-color: #6f42c1;
      box-shadow: 0 0 0 3px rgba(111, 66, 193, 0.1);
    }

    .btn {
      background: linear-gradient(135deg, #6f42c1, #5a32a3);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-bottom: 20px;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(111, 66, 193, 0.3);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .response-box {
      background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
      border: 2px solid #e3f2fd;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      min-height: 100px;
      white-space: pre-wrap;
      font-family: 'Courier New', monospace;
      line-height: 1.6;
    }

    /* Canvas Styles */
    .canvas-container {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 30px;
      margin-top: 20px;
    }

    .canvas-area {
      background: white;
      border: 3px solid #e9ecef;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }

    #drawingCanvas {
      display: block;
      cursor: crosshair;
      width: 100%;
      height: 400px;
      background: white;
    }

    .canvas-controls {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #e9ecef;
    }

    .control-group {
      margin-bottom: 20px;
    }

    .control-group h4 {
      margin-bottom: 10px;
      color: #495057;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .tool-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }

    .tool-btn {
      flex: 1;
      padding: 10px;
      border: 2px solid #e9ecef;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      font-weight: 600;
    }

    .tool-btn.active {
      background: #6f42c1;
      color: white;
      border-color: #6f42c1;
    }

    .color-size-controls {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .color-picker {
      width: 40px;
      height: 40px;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      cursor: pointer;
    }

    .size-control {
      flex: 1;
    }

    .size-slider {
      width: 100%;
      margin: 5px 0;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .action-btn {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .action-btn.undo { background: #6c757d; color: white; }
    .action-btn.redo { background: #6c757d; color: white; }
    .action-btn.clear { background: #dc3545; color: white; }
    .action-btn.save { background: #28a745; color: white; }

    .action-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .action-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .image-generation {
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 12px;
      border: 2px solid #e9ecef;
    }

    .generated-image {
      width: 100%;
      max-width: 400px;
      border-radius: 12px;
      margin-top: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }

    .api-notice {
      background: #fff3cd;
      border: 2px solid #ffeaa7;
      border-radius: 8px;
      padding: 15px;
      margin-top: 15px;
      font-size: 14px;
      color: #856404;
    }

    @media (max-width: 768px) {
      .canvas-container {
        grid-template-columns: 1fr;
      }
      
      .tabs {
        flex-direction: column;
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      .container {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üß† Neural AI</h1>
      <p>Advanced AI Assistant Platform</p>
    </header>

    <div class="main-card">
      <div class="tabs">
        <button class="tab active" onclick="switchTab('general', this)">
          üß† General Knowledge
        </button>
        <button class="tab" onclick="switchTab('coder', this)">
          üíª Code Assistant
        </button>
        <button class="tab" onclick="switchTab('image', this)">
          üé® Image Studio
        </button>
      </div>

      <div class="content">
        <!-- General Chat Section -->
        <div id="general" class="chat-section active">
          <div class="input-group">
            <label>Ask me anything about general knowledge:</label>
            <textarea id="generalInput" rows="4" placeholder="What would you like to know?"></textarea>
          </div>
          <button class="btn" onclick="askGeneral()">Ask Neural AI</button>
          <div id="generalResponse" class="response-box" style="display: none;"></div>
        </div>

        <!-- Coder Chat Section -->
        <div id="coder" class="chat-section">
          <div class="input-group">
            <label>Ask for coding help, debugging, or explanations:</label>
            <textarea id="coderInput" rows="4" placeholder="Describe your coding question or paste your code..."></textarea>
          </div>
          <button class="btn" onclick="askCoder()">Get Code Help</button>
          <div id="coderResponse" class="response-box" style="display: none;"></div>
        </div>

        <!-- Image Studio Section -->
        <div id="image" class="chat-section">
          <h3 style="margin-bottom: 20px; color: #495057;">üé® Image Studio</h3>
          
          <div class="canvas-container">
            <div class="canvas-area">
              <canvas id="drawingCanvas" width="600" height="400"></canvas>
            </div>
            
            <div class="canvas-controls">
              <div class="control-group">
                <h4>Tools</h4>
                <div class="tool-buttons">
                  <button class="tool-btn active" id="brushTool" onclick="setTool('brush')">üñåÔ∏è Brush</button>
                  <button class="tool-btn" id="eraserTool" onclick="setTool('eraser')">üßΩ Eraser</button>
                </div>
              </div>

              <div class="control-group">
                <h4>Color & Size</h4>
                <div class="color-size-controls">
                  <input type="color" id="colorPicker" class="color-picker" value="#000000" onchange="setColor(this.value)">
                  <div class="size-control">
                    <input type="range" id="sizeSlider" class="size-slider" min="1" max="50" value="5" oninput="setSize(this.value)">
                    <div style="text-align: center; font-size: 12px; color: #6c757d;">
                      Size: <span id="sizeDisplay">5</span>px
                    </div>
                  </div>
                </div>
              </div>

              <div class="control-group">
                <h4>Actions</h4>
                <div class="action-buttons">
                  <button class="action-btn undo" onclick="undo()" id="undoBtn">‚Ü∂ Undo</button>
                  <button class="action-btn redo" onclick="redo()" id="redoBtn">‚Ü∑ Redo</button>
                  <button class="action-btn clear" onclick="clearCanvas()">üóëÔ∏è Clear</button>
                  <button class="action-btn save" onclick="saveCanvas()">üíæ Save</button>
                </div>
              </div>
            </div>
          </div>

          <div class="image-generation">
            <h4 style="margin-bottom: 15px;">ü§ñ AI Image Generation</h4>
            <div class="input-group">
              <textarea id="imagePrompt" rows="3" placeholder="Describe the image you want to generate..."></textarea>
            </div>
            <button class="btn" onclick="generateImage()">Generate Image</button>
            <div id="generatedImageContainer"></div>
            <div class="api-notice">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // API Configuration
    const GEMINI_API_KEY = 'Paste_API_Key_Over_Here';
    const OPENAI_API_KEY = 'Paste_API_Key_Over_Here';
    // Canvas Variables
    let canvas, ctx;
    let isDrawing = false;
    let currentTool = 'brush';
    let currentColor = '#000000';
    let currentSize = 5;
    let drawingHistory = [];
    let historyIndex = -1;

    // Initialize canvas when page loads
    window.onload = function() {
      canvas = document.getElementById('drawingCanvas');
      ctx = canvas.getContext('2d');
      
      // Set canvas background to white
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Save initial state
      saveState();
      
      // Add event listeners
      canvas.addEventListener('mousedown', startDrawing);
      canvas.addEventListener('mousemove', draw);
      canvas.addEventListener('mouseup', stopDrawing);
      canvas.addEventListener('mouseout', stopDrawing);
      
      // Touch events for mobile
      canvas.addEventListener('touchstart', handleTouch);
      canvas.addEventListener('touchmove', handleTouch);
      canvas.addEventListener('touchend', stopDrawing);
    };

    // Tab switching
    function switchTab(tabName, element) {
      // Hide all sections
      document.querySelectorAll('.chat-section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Remove active class from all tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected section and activate tab
      document.getElementById(tabName).classList.add('active');
      element.classList.add('active');
    }

    // General Knowledge Chat
    async function askGeneral() {
      const input = document.getElementById('generalInput').value;
      const responseDiv = document.getElementById('generalResponse');
      
      if (!input.trim()) return;
      
      responseDiv.style.display = 'block';
      responseDiv.textContent = 'Thinking...';
      
      const prompt = "You are a friendly expert on general knowledge. Answer factually, clearly, with emojis.";
      
      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`,
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              contents: [{ parts: [{ text: prompt }, { text: input }] }]
            })
          }
        );
        
        const data = await response.json();
        const reply = data.candidates?.[0]?.content?.parts?.[0]?.text || 'No response from Neural AI.';
        responseDiv.textContent = reply;
      } catch (error) {
        responseDiv.textContent = 'Something went wrong talking to Neural AI.';
        console.error(error);
      }
    }

    // Coding Assistant
    async function askCoder() {
      const input = document.getElementById('coderInput').value;
      const responseDiv = document.getElementById('coderResponse');
      
      if (!input.trim()) return;
      
      responseDiv.style.display = 'block';
      responseDiv.textContent = 'Analyzing code...';
      
      const prompt = "You are a helpful coding expert. Provide concise code examples, explanations, or debugging help. Format code with proper syntax highlighting markers.";
      
      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`,
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              contents: [{ parts: [{ text: prompt }, { text: input }] }]
            })
          }
        );
        
        const data = await response.json();
        const reply = data.candidates?.[0]?.content?.parts?.[0]?.text || 'No response from Neural AI.';
        responseDiv.textContent = reply;
      } catch (error) {
        responseDiv.textContent = 'Something went wrong talking to Neural AI.';
        console.error(error);
      }
    }

    // Canvas Drawing Functions
    function getMousePos(e) {
      const rect = canvas.getBoundingClientRect();
      const scaleX = canvas.width / rect.width;
      const scaleY = canvas.height / rect.height;
      
      return {
        x: (e.clientX - rect.left) * scaleX,
        y: (e.clientY - rect.top) * scaleY
      };
    }

    function startDrawing(e) {
      isDrawing = true;
      const pos = getMousePos(e);
      
      ctx.beginPath();
      ctx.moveTo(pos.x, pos.y);
      
      // Set drawing properties
      ctx.globalCompositeOperation = currentTool === 'eraser' ? 'destination-out' : 'source-over';
      ctx.strokeStyle = currentColor;
      ctx.lineWidth = currentSize;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
    }

    function draw(e) {
      if (!isDrawing) return;
      
      const pos = getMousePos(e);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
    }

    function stopDrawing() {
      if (isDrawing) {
        isDrawing = false;
        saveState();
      }
    }

    function handleTouch(e) {
      e.preventDefault();
      const touch = e.touches[0];
      const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                       e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
        clientX: touch.clientX,
        clientY: touch.clientY
      });
      canvas.dispatchEvent(mouseEvent);
    }

    // Canvas Tools
    function setTool(tool) {
      currentTool = tool;
      document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById(tool + 'Tool').classList.add('active');
    }

    function setColor(color) {
      currentColor = color;
    }

    function setSize(size) {
      currentSize = size;
      document.getElementById('sizeDisplay').textContent = size;
    }

    // Canvas History
    function saveState() {
      historyIndex++;
      if (historyIndex < drawingHistory.length) {
        drawingHistory.length = historyIndex;
      }
      drawingHistory.push(canvas.toDataURL());
      updateHistoryButtons();
    }

    function undo() {
      if (historyIndex > 0) {
        historyIndex--;
        restoreState();
      }
    }

    function redo() {
      if (historyIndex < drawingHistory.length - 1) {
        historyIndex++;
        restoreState();
      }
    }

    function restoreState() {
      const img = new Image();
      img.onload = function() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0);
      };
      img.src = drawingHistory[historyIndex];
      updateHistoryButtons();
    }

    function updateHistoryButtons() {
      document.getElementById('undoBtn').disabled = historyIndex <= 0;
      document.getElementById('redoBtn').disabled = historyIndex >= drawingHistory.length - 1;
    }

    function clearCanvas() {
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      saveState();
    }

    function saveCanvas() {
      const link = document.createElement('a');
      link.download = 'neural-ai-drawing.png';
      link.href = canvas.toDataURL();
      link.click();
    }

    // AI Image Generation
    async function generateImage() {
      const prompt = document.getElementById('imagePrompt').value;
      const container = document.getElementById('generatedImageContainer');
      
      if (!prompt.trim()) return;
      
      container.innerHTML = '<p style="text-align: center; padding: 20px; color: #6c757d;">Generating image...</p>';
      
      try {
        // For demo purposes, we'll use a placeholder image
        // Replace this with actual OpenAI API call when you have a valid API key
        if (OPENAI_API_KEY === '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') {
          // Simulate API delay
          await new Promise(resolve => setTimeout(resolve, 2000));
          
          // Use a placeholder image
          const placeholderUrl = `https://images.pexels.com/photos/8849295/pexels-photo-8849295.jpeg?auto=compress&cs=tinysrgb&w=400&h=400&fit=crop`;
          container.innerHTML = `
            <img src="${placeholderUrl}" alt="Generated Image" class="generated-image">
            <p style="text-align: center; margin-top: 10px; font-size: 14px; color: #6c757d;">
              Demo placeholder image (Add your OpenAI API key for real generation)
            </p>
          `;
        } else {
          // Actual OpenAI API call
          const response = await fetch('https://api.openai.com/v1/images/generations', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${OPENAI_API_KEY}`
            },
            body: JSON.stringify({
              model: "dall-e-3",
              prompt: prompt,
              n: 1,
              size: "1024x1024"
            })
          });
          
          const data = await response.json();
          
          if (data.data && data.data[0] && data.data[0].url) {
            container.innerHTML = `<img src="${data.data[0].url}" alt="Generated Image" class="generated-image">`;
          } else {
            throw new Error('No image URL in response');
          }
        }
      } catch (error) {
        container.innerHTML = `
          <p style="text-align: center; padding: 20px; color: #dc3545;">
            Image generation failed. Please check your API key and try again.
          </p>
        `;
        console.error('Image generation error:', error);
      }
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey || e.metaKey) {
        switch(e.key) {
          case 'z':
            e.preventDefault();
            if (e.shiftKey) {
              redo();
            } else {
              undo();
            }
            break;
          case 'y':
            e.preventDefault();
            redo();
            break;
        }
      }
    });
  </script>
</body>
</html>